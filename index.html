<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <title>Providing Insight into Machine Learning through Visualization</title>
  <style>
    .axis .domain {
      display: none;
    }

    .grid line {
      stroke: lightgrey;
      stroke-opacity: 0.7;
      shape-rendering: crispEdges;
    }

    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 18pt;
    }

    tr {
      font-size: 10pt;
    }

    .main {
      width: 600px;
      margin: 30px auto 0 auto;
    }

    path {
      fill: none;
    }

    path.tree-path {
      stroke: none;
    }

    path.tree-link {
      stroke: gray;
      stroke-width: 1px;
    }

    .tree-results {
      display: block;
    }

    .classifier-base {
      height: 1px;
      fill: #aaaaaa;
      width: 100%;
    }

    rect.leaf {
      width: 2px;
      height: 14px;
      stroke: 2px;
    }

    text.accuracy-label {
      font-size: 12px;
      text-anchor: middle;
    }

    text.accuracy-value {
      font-size: 18px;
      text-anchor: middle;
    }

    .classifier-fraction {
      font-size: 16px;
    }

    .target {
      stroke: #98abc5;
      fill: #98abc5;
    }

    .nontarget {
      stroke: #ff8c00;
      fill: #ff8c00;
    }

    .correct {}

    .incorrect {
      fill: none;
      stroke-width: 1px;
    }

    path.sample-path {
      fill: none;
      visibility: hidden;
    }

    circle.sample:hover+path.sample-path {
      stroke-width: 2px;
      visibility: visible;
    }

    div#buttons {
      margin-left: 20px;
    }

    button {
      padding: 10px 10px;
      font-size: 12px;
      margin: 0 5px;
      border-radius: 8px;
      background-color: transparent;
      border: 1px solid #bbb;
    }

    #container {
      width: 1500px;
      margin: auto;
    }
  </style>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
  <div id="container">
    <!-- <div id="Class-0-593_70" class="main"></div> -->
    <div id="Class-4-753_0" class="main" style="float:left"></div>
    <!-- <div id="Class-9-599_0" class="main"></div> -->
    <!-- <div id="Class-24-596_54" class="main"></div> -->
    <!-- <div id="Class-31-780_6" class="main"></div> -->
    <!-- <div id="Class-32-486" class="main"></div> -->
    <!-- <div id="Class-36-788_30" class="main"></div> -->
    <!-- <div id="Class-41-591" class="main"></div> -->

    <div style="float:right; margin-top: 20px; margin-bottom: 10px">
      <svg id="bar" width="600" height="300"></svg>
      <svg id="words" width="200" height="200"></svg>
    </div>
  </div>

  <svg id="nodelink" width="800" height="500"></svg>

  <!-- <script src="trees/Class-0-593_70.js"></script> -->
  <script src="trees/Class-4-753_0.js"></script>
  <!-- <script src="trees/Class-9-599_0.js"></script> -->
  <!-- <script src="trees/Class-24-596_54.js"></script> -->
  <!-- <script src="trees/Class-31-780_6.js"></script> -->
  <!-- <script src="trees/Class-32-486.js"></script> -->
  <!-- <script src="trees/Class-36-788_30.js"></script> -->
  <!-- <script src="trees/Class-41-591.js"></script> -->

  <script src="data.js"></script>
  <script src="table.js"></script>
  <script src="bar.js"></script>

  <script src="nodelink.js"></script>

  <script>
    loadData("train", 0);
    drawBars("train", 0);
    document.addEventListener('click', function(e) {
      e = e || window.event;
      var target = e.target || e.srcElement,
        name = target.tagName,
        type = target.getAttribute("id"),
        cL = target.getAttribute("class");
      if (cL == "node") {
        var nodeNum = type;
        var trainTest = "train";
        if (type > 782) {
          trainTest = "test";
          type -= 782
        }
        console.log(document.querySelectorAll("circle#" + trainTest + "#\\" + type));
        loadData(trainTest, type);
        drawBars(trainTest, type);
        // console.log(document.body.querySelectorAll("line." + nodeNum));
      } else if (name == "circle") {
        console.log(target);
        var trainTest = target.getAttribute("id").split(" ")[1];
        var dataPoint = target.getAttribute("id").split(" ")[2];
        highlightNode(dataPoint);
        loadData(trainTest, dataPoint);
        drawBars(trainTest, dataPoint);
        // console.log(document.getElementById("path-" + dataPoint));
      }
      // } else if (name == "rect" && type) {
      //   console.log(type);
      //   var vis = document.querySelector('.vis'),
      //     target = document.getElementById(type);
      //   if (vis !== null) {
      //     vis.classList.remove('vis')
      //     vis.classList.add('inv');
      //   }
      //   if (target !== null ) {
      //     target.classList.remove('inv');
      //     target.classList.add('vis');
      //   }
      // }
    }, false);
  </script>
</body>

</html>
